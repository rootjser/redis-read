# redis学习
### redis数据结构
字符串、Hash、List、Set、ZSet、GEO（地理位置信息）、Stream（用于MQ持久化和主备复制）
|  名称   | 说明  |
|  ----  | ----  |
| 字符串  | key是字符串，value是字符串 |
| Hash  | key是字符串，value是key-value集合 |
| List  | 按照列表插入顺序排列（有序），key是字符串，value是字符串集合，可重复 |
| Set  | 无序排列，key是字符串，value是字符串集合，不可重复 |
| ZSet  | 有序排列，每个value带有分数，根据分数排列，key是字符串，value是字符串集合，不可重复 |
| GEO  | 地理位置信息，key是字符串，value是名称+经度+维度，可做距离测算、范围内相邻点计算等 |
| Stream  | 用于MQ持久化和主备复制 |

### redis消息队列的4种实现方式
*PUB/SUB，订阅/发布模式 
|  方式   | 优点  |  缺点  | 应用  |
|  ----  | ----  |  ----  | ----  |
| 1、SUBSCRIBE，用于订阅信道</br>2、PUBLISH，向信道发送消息  | 1、典型的广播模式，一个消息可以发布到多个消费者</br>2、多信道订阅，消费者可以同时订阅多个信道，从而接收多类消息</br>3、消息即时发送，消息不用等待消费者读取，消费者会自动接收到信道发布的消息 |1、消息一旦发布，不能接收。换句话就是发布时若客户端不在线，则消息丢失，不能寻回</br>2、不能保证每个消费者接收的时间是一致的</br>3、若消费者客户端出现消息积压，到一定程度，会被强制断开，导致消息意外丢失。通常发生在消息的生产远大于消费速度时 | Pub/Sub 模式不适合做消息存储，消息积压类的业务，而是擅长处理广播，即时通讯，即时反馈的业务。
*基于List的 LPUSH+BRPOP 的实现
